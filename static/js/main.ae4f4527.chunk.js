(this["webpackJsonpdavid-ratcliffe-project-five-revised"]=this["webpackJsonpdavid-ratcliffe-project-five-revised"]||[]).push([[0],{14:function(e,t,a){},31:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var r=a(2),s=a(4),n=a.n(s),i=a(24),o=a.n(i),c=(a(31),a(8)),l=a(9),u=a(11),d=a(10),h=(a(14),a(13));a(33);h.a.initializeApp({apiKey:"AIzaSyBg77VTyQ5WPuEuRtehp9aN-nSkEM-h5ek",authDomain:"project-five-f24a3.firebaseapp.com",databaseURL:"https://project-five-f24a3.firebaseio.com",projectId:"project-five-f24a3",storageBucket:"project-five-f24a3.appspot.com",messagingSenderId:"654429106863",appId:"1:654429106863:web:3c0d009b99d9c4137b5a5a"});var p=h.a,j=a(25),m=a.n(j),b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getRandomImage=function(){m()({method:"GET",url:"https://api.unsplash.com/photos/random",responseType:"json",params:{client_id:"-j_epipWtt2oE7lw_so3EUbm0Uvo0n0OaR--12TsBMw",orientation:"squarish",dpr:2,ar:"w=380%26ar=1:1%26fit=crop"}}).then((function(t){if(!t.data.urls.regular)return console.error("Looks like our image host is having a creative block. Try again later.");e.setState({picture:t.data.urls.regular,altText:t.data.alt_description})}))},e.handleSubmit=function(t){t.preventDefault();var a=p.database().ref(),r={image:e.state.picture,story:e.state.userInput,altText:e.state.altText,name:e.state.userName};a.push(r),document.querySelector("textarea").value="",e.setState({userInput:"",userName:""});var s=document.querySelector(".selectImgContainer");s.src="",s.alt=""},e.handleInputChange=function(t){e.setState({userInput:t.target.value})},e.handleNameChange=function(t){e.setState({userName:t.target.value})},e.hideLabel=function(){document.querySelector(".storyLabel").classList.add("srOnly")},e.showLabel=function(){document.querySelector("storyLabel").classList.remove("srOnly")},e.state={picture:"",altText:"",userInput:"",userName:""},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.picture,a=e.altText;return Object(r.jsx)(s.Fragment,{children:Object(r.jsx)("header",{children:Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)("h1",{children:"Worth a Thousand"}),Object(r.jsx)("p",{className:"instructions",children:"Choose an image. Write a story. Share your creativity."}),Object(r.jsxs)("div",{className:"generatorFlex",children:[Object(r.jsxs)("div",{className:"imgFlex",children:[Object(r.jsx)("img",{className:"selectImgContainer",src:t,alt:a}),Object(r.jsx)("button",{onClick:this.getRandomImage,children:"Choose Your Inspiration"})]}),Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("input",{placeholder:"Name",id:"name",type:"text",onChange:this.handleNameChange}),Object(r.jsx)("label",{className:"srOnly",htmlFor:"name",children:"Name"}),Object(r.jsxs)("div",{className:"inputContainer",children:[Object(r.jsxs)("div",{id:"textBox",children:[Object(r.jsx)("textarea",{type:"text",id:"theStory",maxLength:"1000",required:!0,placeholder:"Your story starts here...",onChange:this.handleInputChange}),Object(r.jsx)("label",{className:"storyLabel srOnly",htmlFor:"theStory",children:"Write your story here."}),Object(r.jsxs)("p",{className:"counter",children:[this.state.userInput.length,"/1000"]})]}),Object(r.jsx)("button",{children:"Add Your Story"})]})]})]})]})})})}}]),a}(s.Component),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).polaroidFlip=function(){e.setState({polaroidClass:!e.state.polaroidClass})},e.state={polaroidClass:!0},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(r.jsx)("li",{children:Object(r.jsxs)("div",{onClick:this.polaroidFlip,className:this.state.polaroidClass?"polaroid":"polaroid flipped",children:[Object(r.jsxs)("div",{className:"polaroidSide sideFront",children:[Object(r.jsx)("p",{className:"turnText",children:"Turn to read the story ->"}),Object(r.jsx)("div",{className:"stashedImgContainer",children:Object(r.jsx)("img",{src:this.props.story.image,alt:this.props.story.altText})})]}),Object(r.jsx)("div",{className:"polaroidSide sideBack",children:Object(r.jsxs)("p",{children:[this.props.story.story," ",Object(r.jsxs)("strong",{children:[" \u2014 ",this.props.story.name," "]})]})})]})},this.props.story.fireKey)}}]),a}(s.Component),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={allStories:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.database().ref().on("value",(function(t){var a=t.val();console.log(a);var r=[];for(var s in a){var n=a[s];n.fireKey=s,r.push(n)}e.setState({allStories:r})}))}},{key:"render",value:function(){return console.log(this.state.allStories),Object(r.jsxs)(s.Fragment,{children:[Object(r.jsx)(b,{}),Object(r.jsx)("ul",{className:"wrapper",children:this.state.allStories.map((function(e){return Object(r.jsx)(f,{story:e})}))})]})}}]),a}(s.Component),O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),s(e),n(e),i(e)}))};o.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root")),O()}},[[52,1,2]]]);
//# sourceMappingURL=main.ae4f4527.chunk.js.map